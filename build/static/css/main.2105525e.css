.drag-handle{color:#999;cursor:grab;font-size:12px;margin-right:8px;-webkit-user-select:none;user-select:none}.drag-handle:active{cursor:grabbing}.chapter-group.drag-over,.scene-item.drag-over{background-color:#f0f8ff;border:2px dashed #2196f3}.chapter-group.drag-invalid,.scene-item.drag-invalid{background-color:#ffebee;border:2px dashed #f44336;cursor:not-allowed}.chapter-header{cursor:move}.scene-item{cursor:move;position:relative}.scene-controls{align-items:center;display:flex;margin-right:10px}.scene-actions{display:flex;gap:4px;margin-left:auto}.scene-actions button{background:none;border:none;border-radius:2px;cursor:pointer;font-size:12px;opacity:.7;padding:2px 4px;transition:opacity .2s}.scene-actions button:hover{background-color:#f0f0f0;opacity:1}.move-scene-btn{color:#2196f3}.delete-scene-btn{color:#f44336}.move-menu{background:#fff;border:1px solid #ddd;border-radius:4px;box-shadow:0 2px 8px #00000026;max-height:200px;min-width:150px;overflow-y:auto;position:absolute;right:0;top:100%;z-index:1000}.move-menu.show-above{bottom:100%;top:auto}.move-menu-title{background-color:#f5f5f5;border-bottom:1px solid #ddd;color:#666;font-size:11px;font-weight:700;padding:8px 12px}.move-menu-item{background:none;border:none;cursor:pointer;display:block;font-size:12px;padding:8px 12px;text-align:left;transition:background-color .2s;width:100%}.move-menu-item:hover{background-color:#f0f0f0}.recycle-bin-btn{position:relative}.recycle-bin-btn.has-items{background-color:#fff3cd;border-color:#ffeaa7}.recycle-bin{background-color:#f9f9f9;border:1px solid #ddd;border-radius:4px;margin-top:20px}.recycle-bin-header{align-items:center;background-color:#f5f5f5;border-bottom:1px solid #ddd;display:flex;justify-content:space-between;padding:10px 12px}.recycle-bin-header h4{color:#666;font-size:14px;margin:0}.recycle-bin-controls{display:flex;gap:8px}.close-bin-btn,.empty-bin-btn{background:none;border:none;border-radius:2px;cursor:pointer;font-size:12px;padding:4px 8px;transition:background-color .2s}.empty-bin-btn{color:#f44336}.empty-bin-btn:hover{background-color:#ffebee}.close-bin-btn{color:#666}.close-bin-btn:hover{background-color:#e0e0e0}.recycle-bin-content{max-height:300px;overflow-y:auto}.empty-bin{color:#999;font-style:italic;padding:20px;text-align:center}.recycle-bin-item{align-items:center;background-color:#fff;border-bottom:1px solid #eee;display:flex;padding:8px 12px}.recycle-bin-item:last-child{border-bottom:none}.recycle-item-content{flex:1 1}.recycle-item-title{color:#333;font-size:13px;font-weight:700;margin-bottom:2px}.recycle-item-meta{color:#666;display:flex;font-size:11px;gap:10px}.recycle-item-actions{display:flex;gap:4px}.permanent-delete-btn,.restore-btn{background:none;border:none;border-radius:2px;cursor:pointer;font-size:14px;padding:4px 6px;transition:background-color .2s}.restore-btn{color:#4caf50}.restore-btn:hover{background-color:#e8f5e8}.permanent-delete-btn{color:#f44336}.permanent-delete-btn:hover{background-color:#ffebee}.scene-item{background-color:#fff;border-bottom:1px solid #eee;padding:8px 12px;transition:all .2s}.scene-item:hover{background-color:#f8f9fa}.scene-item.active{background-color:#e3f2fd;border-left:3px solid #2196f3}.scene-content{margin-left:8px}.scene-title{font-size:13px;font-weight:700;margin-bottom:2px}.scene-meta{font-size:11px;gap:10px}.chapter-header-content{width:100%}.chapter-title{cursor:pointer;margin:0 10px}.chapter-meta{font-size:11px;gap:10px;margin-right:10px}.chapter-delete{opacity:.7;padding:4px;transition:opacity .2s}.chapter-delete:hover{background-color:#ffebee}.header-buttons{align-items:center;gap:8px}.add-chapter-btn,.add-scene-btn,.recycle-bin-btn{background:#2196f3;border:none;border-radius:4px;color:#fff;cursor:pointer;font-size:12px;padding:6px 12px;transition:background-color .2s}.add-chapter-btn:hover,.add-scene-btn:hover,.recycle-bin-btn:hover{background:#1976d2}.add-scene-btn:disabled,.add-scene-btn:disabled:hover{background:#ccc}.book-author,.book-title{transition:border-color .2s}.has-unsaved-changes .book-author,.has-unsaved-changes .book-title{border-left:3px solid #ff9800}*{box-sizing:border-box}body{background:#f5f5f5;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;margin:0}.app{display:flex;flex-direction:column;height:100vh}.app-header{align-items:center;background:#2c3e50;color:#fff;display:flex;justify-content:space-between;padding:1rem}.book-info input{background:#0000;border:none;border-bottom:1px solid #34495e;color:#fff;font-size:1.2rem;margin-right:1rem;padding:.5rem}.book-info input::placeholder{color:#bdc3c7}.book-title{font-size:1.5rem!important;font-weight:700}.toolbar{align-items:center;display:flex;gap:.5rem}.toolbar button{background:#3498db;border:none;border-radius:4px;color:#fff;cursor:pointer;padding:.5rem 1rem;transition:all .2s ease}.toolbar button:hover{background:#2980b9}.toolbar button:focus{outline:2px solid #fff;outline-offset:2px}.icon-button{align-items:center!important;background:#3498db!important;border:1px solid #2980b9!important;border-radius:8px!important;display:flex!important;font-size:18px!important;height:44px!important;justify-content:center!important;min-width:44px!important;padding:8px!important;position:relative!important;transition:all .2s ease!important}.icon-button:hover{background:#2980b9!important;border-color:#21618c!important;box-shadow:0 4px 8px #3498db4d!important;transform:translateY(-1px)!important}.icon-button:active{box-shadow:0 2px 4px #3498db33!important;transform:translateY(0)!important}.icon-button:hover:after{background:#000000e6;border-radius:6px;box-shadow:0 4px 12px #0000004d;color:#fff;content:attr(title);font-size:12px;line-height:1.3;margin-top:8px;max-width:200px;padding:8px 12px;text-align:center;white-space:nowrap;z-index:1000}.icon-button:hover:after,.icon-button:hover:before{animation:tooltipFadeIn .2s ease;left:50%;position:absolute;top:100%;transform:translateX(-50%)}.icon-button:hover:before{border-bottom:6px solid #000000e6;border-left:6px solid #0000;border-right:6px solid #0000;content:"";height:0;margin-top:2px;width:0;z-index:1001}@keyframes tooltipFadeIn{0%{opacity:0;transform:translateX(-50%) translateY(-4px)}to{opacity:1;transform:translateX(-50%) translateY(0)}}.browser-mode-indicator{background:#e67e22;border-radius:4px;color:#fff;font-size:.8rem;margin-left:1rem;padding:.5rem}.app-content{display:flex;flex:1 1;overflow:hidden}.scene-list{background:#fff;border-right:1px solid #ddd;width:300px}.scene-list,.scene-list-header{display:flex;flex-direction:column}.scene-list-header{border-bottom:1px solid #eee;gap:.5rem;padding:1rem}.current-chapter-indicator{background:#e8f5e8;border:1px solid #c3e6cb;border-radius:4px;color:#155724;padding:.5rem}.current-chapter-indicator small{font-size:.8rem}.header-buttons{display:flex;gap:.5rem}.add-chapter-btn,.add-scene-btn{background:#27ae60;border:none;border-radius:4px;color:#fff;cursor:pointer;flex:1 1;font-size:.8rem;padding:.5rem}.add-chapter-btn{background:#3498db}.add-scene-btn:disabled{background:#bdc3c7;cursor:not-allowed}.chapters-container{flex:1 1;overflow-y:auto;padding-bottom:120px}.chapter-group{border-bottom:1px solid #eee}.chapter-header{background:#f8f9fa;border-bottom:1px solid #e9ecef;cursor:pointer;padding:.75rem 1rem;transition:background-color .2s}.chapter-header:hover{background:#e9ecef}.chapter-header.active-chapter{background:#e3f2fd;border-left:3px solid #2196f3}.chapter-header-content{align-items:center;display:flex;gap:.5rem}.chapter-toggle{background:none;border:none;cursor:pointer;font-size:1rem;padding:0}.chapter-title{flex:1 1;font-weight:700;min-width:0}.chapter-title-edit{background:#fff;border:1px solid #ddd;border-radius:2px;flex:1 1;font-weight:700;padding:.25rem}.chapter-meta{align-items:flex-end;color:#666;display:flex;flex-direction:column;font-size:.75rem;min-width:80px}.scene-count,.word-count{line-height:1.2}.chapter-delete{background:none;border:none;border-radius:2px;cursor:pointer;opacity:.6;padding:.25rem}.chapter-delete:hover{background:#dc3545;opacity:1}.scenes-in-chapter{background:#fff}.empty-chapter{background:#f9f9f9;color:#666;font-style:italic;padding:1rem 2rem;text-align:center}.scenes{flex:1 1;overflow-y:auto}.scene-item{align-items:center;border-bottom:1px solid #f0f0f0;cursor:pointer;display:flex;gap:.75rem;padding:.75rem 1rem .75rem 2rem;transition:background-color .2s}.scene-item:hover{background:#f8f9fa}.scene-item.active{background:#e8f5e8;border-left:3px solid #27ae60}.scene-number{background:#e9ecef;border-radius:12px;color:#495057;font-size:.75rem;font-weight:700;min-width:2rem;padding:.25rem .5rem;text-align:center}.scene-content{flex:1 1;min-width:0}.scene-title{color:#333;font-weight:500;margin-bottom:.25rem}.scene-meta{color:#666;display:flex;font-size:.75rem;justify-content:space-between}.scene-date{color:#888}.scene-word-count{color:#666;font-weight:500}.scene-editor{background:#fff;flex:1 1;overflow-y:scroll}.no-scene,.scene-editor{display:flex;flex-direction:column}.no-scene{align-items:center;color:#666;font-size:1.2rem;height:100%;justify-content:center;padding:2rem;text-align:center}.scene-header{align-items:center;border-bottom:1px solid #eee;display:flex;justify-content:space-between;padding:1rem}.scene-title-input{background:#0000;border:none;flex:1 1;font-size:1.5rem;font-weight:700}.scene-stats{color:#666;font-size:.9rem}.editor-container{flex:1 1;padding:1rem;position:relative}.editor-loading{align-items:center;background:#f9f9f9;color:#666;height:60vh;justify-content:center}.editor-loading,.fallback-editor{border:1px solid #ddd;border-radius:4px;display:flex;flex-direction:column}.fallback-editor{height:calc(60vh - 3rem)}.editor-toolbar{background:#f5f5f5;border:1px solid #ddd;border-bottom:none;border-radius:4px 4px 0 0;color:#666;flex-wrap:wrap;font-size:.85rem;gap:.5rem;padding:.5rem 1rem}.editor-toolbar,.format-btn{align-items:center;display:flex}.format-btn{background:#fff;border:1px solid #ddd;border-radius:3px;cursor:pointer;font-size:.9rem;height:2rem;justify-content:center;min-width:2rem;padding:.25rem .5rem;transition:all .2s ease}.format-btn:hover{background:#e9ecef;border-color:#adb5bd}.format-btn:active{background:#dee2e6;transform:translateY(1px)}.format-help{color:#6c757d;font-style:italic;margin-left:auto}.fallback-editor textarea{background:#fff;border:none;border-radius:4px;flex:1 1;font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:16px;line-height:1.6;outline:none;padding:1rem;resize:none}.fallback-editor textarea:focus{border-color:#4caf50;box-shadow:0 0 0 2px #4caf5033}.scene-editor-textarea{display:flex;flex:1 1;flex-direction:column}.scene-editor-textarea textarea{background:#fff;border:1px solid #ddd;border-radius:0 0 4px 4px;border-top:none;flex:1 1;font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:16px;line-height:1.6;min-height:calc(60vh - 3rem);outline:none;padding:1rem;resize:none}.scene-editor-textarea textarea:focus{border-color:#4caf50;box-shadow:0 0 0 2px #4caf5033}.scene-notes{border-top:1px solid #eee;margin-bottom:1rem;padding:0 1rem}.scene-notes textarea{border:1px solid #ddd;border-radius:4px;font-family:inherit;padding:.5rem;resize:vertical;width:100%}.modal-overlay{align-items:center;background:#00000080;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1000}.modal{background:#fff;border-radius:8px;display:flex;flex-direction:column;max-height:90vh;max-width:600px;width:90%}.modal-header{border-bottom:1px solid #eee;justify-content:space-between;padding:1rem}.close-btn,.modal-header{align-items:center;display:flex}.close-btn{background:none;border:none;cursor:pointer;font-size:1.5rem;height:2rem;justify-content:center;padding:0;width:2rem}.modal-content{flex:1 1;overflow-y:auto;padding:1rem}.modal-footer{border-top:1px solid #eee;display:flex;gap:1rem;justify-content:flex-end;padding:1rem}.form-group{margin-bottom:1rem}.form-group label{display:block;font-weight:700;margin-bottom:.5rem}.form-group input,.form-group select{border:1px solid #ddd;border-radius:4px;padding:.5rem;width:100%}.form-group input[type=checkbox]{margin-right:.5rem;width:auto}.form-section{margin:2rem 0}.margin-inputs{grid-gap:1rem;display:grid;gap:1rem;grid-template-columns:1fr 1fr}.btn-primary{background:#3498db;border:none;border-radius:4px;color:#fff;cursor:pointer;padding:.75rem 1.5rem}.btn-primary:hover{background:#2980b9}.btn-secondary{background:#95a5a6;border:none;border-radius:4px;color:#fff;cursor:pointer;padding:.75rem 1.5rem}.btn-secondary:hover{background:#7f8c8d}.book-preview{background:#f8f9fa;border-radius:4px;margin-top:1rem;padding:1rem}.chapter-breakdown{border-top:1px solid #dee2e6;margin-top:1rem;padding-top:1rem}.chapter-breakdown h4{color:#495057;font-size:.9rem;margin:0 0 .5rem}.chapter-preview-item{border-bottom:1px solid #e9ecef;display:flex;font-size:.85rem;justify-content:space-between;padding:.25rem 0}.chapter-preview-item:last-child{border-bottom:none}.form-group small{color:#6c757d;display:block;font-size:.875rem;font-style:italic;margin-top:.25rem}.current-repo{background:#d4edda;border:1px solid #c3e6cb;border-radius:4px;padding:1rem}.app.saving{pointer-events:none}.app.saving .icon-button{opacity:.7}.app.saving *{-webkit-user-select:none;user-select:none}.app.saving .scene-editor input,.app.saving .scene-editor textarea{-webkit-user-select:auto;user-select:auto}.book-structure{background:#fff;border-right:1px solid #ddd;display:flex;flex-direction:column;width:300px}.book-structure-tabs{background:#f8f9fa;border-bottom:1px solid #ddd;display:flex}.tab-button{align-items:center;background:#0000;border:none;border-bottom:2px solid #0000;cursor:pointer;display:flex;flex:1 1;flex-direction:column;gap:4px;padding:12px 8px;transition:all .2s ease}.tab-button:hover{background:#e9ecef}.tab-button.active{background:#fff;border-bottom-color:#2196f3;color:#2196f3}.tab-icon{font-size:18px;line-height:1}.tab-label{font-size:11px;font-weight:500;letter-spacing:.5px;text-transform:uppercase}.character-list,.tab-content{display:flex;flex:1 1;flex-direction:column;overflow:hidden}.character-list-header{border-bottom:1px solid #eee;display:flex;flex-direction:column;gap:.5rem;padding:1rem}.character-description{color:#666;font-size:.8rem;line-height:1.4;margin:0}.add-character-btn{background:#9c27b0;border:none;border-radius:4px;color:#fff;cursor:pointer;flex:1 1;font-size:.8rem;padding:.5rem;transition:background-color .2s}.add-character-btn:hover{background:#7b1fa2}.characters-container{flex:1 1;overflow-y:auto;padding-bottom:20px}.empty-characters{background:#f9f9f9;color:#666;font-style:italic;padding:1rem 2rem;text-align:center}.character-item{align-items:center;border-bottom:1px solid #f0f0f0;cursor:pointer;display:flex;gap:.75rem;padding:.75rem 1rem;transition:background-color .2s}.character-item:hover{background:#f8f9fa}.character-item.active{background:#f3e5f5;border-left:3px solid #9c27b0}.character-avatar{align-items:center;background:#f5f5f5;border-radius:50%;display:flex;flex-shrink:0;font-size:24px;height:32px;justify-content:center;width:32px}.character-content{flex:1 1;min-width:0}.character-name{color:#333;font-weight:500;margin-bottom:.25rem}.character-name-edit{background:#fff;border:1px solid #ddd;border-radius:2px;font-weight:500;padding:.25rem;width:100%}.character-role{color:#666;font-size:.75rem;margin-bottom:.25rem}.character-meta{color:#888;display:flex;font-size:.7rem;justify-content:space-between}.character-actions{opacity:0;transition:opacity .2s}.character-item:hover .character-actions{opacity:1}.delete-character-btn{background:none;border:none;border-radius:2px;cursor:pointer;opacity:.7;padding:4px;transition:all .2s}.delete-character-btn:hover{background-color:#ffebee;opacity:1}.character-editor{background:#fff;flex:1 1;overflow:hidden}.character-editor,.no-character{display:flex;flex-direction:column}.no-character{align-items:center;color:#666;font-size:1.2rem;height:100%;justify-content:center;padding:2rem;text-align:center}.character-header{border-bottom:1px solid #eee;display:flex;flex-direction:column;gap:1rem;padding:1rem}.character-title-section{align-items:center;display:flex;gap:1rem}.character-avatar-selector{position:relative}.current-avatar{align-items:center;background:#f5f5f5;border-radius:50%;cursor:pointer;display:flex;font-size:48px;height:64px;justify-content:center;transition:background-color .2s;width:64px}.current-avatar:hover{background:#e0e0e0}.avatar-dropdown{grid-gap:4px;background:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 12px #00000026;display:grid;gap:4px;grid-template-columns:repeat(6,1fr);left:0;max-width:240px;padding:8px;position:absolute;top:100%;z-index:1000}.avatar-option{background:none;border:none;border-radius:50%;cursor:pointer;font-size:24px;height:36px;transition:background-color .2s;width:36px}.avatar-option:hover{background:#f0f0f0}.character-title-inputs{display:flex;flex:1 1;flex-direction:column;gap:.5rem}.character-name-input{background:#0000;border:none;border-bottom:2px solid #eee;font-size:1.5rem;font-weight:700;padding:.5rem 0}.character-name-input:focus{border-bottom-color:#9c27b0;outline:none}.character-role-input{background:#0000;border:none;border-bottom:1px solid #eee;color:#666;font-size:1rem;padding:.25rem 0}.character-role-input:focus{border-bottom-color:#9c27b0;outline:none}.character-stats{color:#666;display:flex;font-size:.9rem;gap:1rem}.character-editor-textarea{display:flex;flex:1 1;flex-direction:column}.character-editor-textarea textarea{background:#fff;border:1px solid #ddd;border-radius:0 0 4px 4px;border-top:none;flex:1 1;font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:16px;line-height:1.6;min-height:400px;outline:none;padding:1rem;resize:none}.character-editor-textarea textarea:focus{border-color:#9c27b0;box-shadow:0 0 0 2px #9c27b033}.character-notes{border-top:1px solid #eee;padding:1rem}.character-notes label{color:#333;display:block;font-weight:500;margin-bottom:.5rem}.character-notes textarea{border:1px solid #ddd;border-radius:4px;font-family:inherit;min-height:80px;padding:.75rem;resize:vertical;width:100%}.character-notes textarea:focus{border-color:#9c27b0;box-shadow:0 0 0 2px #9c27b033;outline:none}.status-bar{background:#f8f9fa;border-top:1px solid #dee2e6;bottom:0;color:#6c757d;font-size:11px;height:24px;justify-content:space-between;left:0;padding:0 12px;position:fixed;right:0;-webkit-user-select:none;user-select:none;z-index:1000}.status-bar,.status-left{align-items:center;display:flex}.status-left{gap:16px}.operation-status,.status-right{align-items:center;display:flex}.operation-status{color:#6c757d;gap:4px}.operation-icon{animation:pulse 1.5s ease-in-out infinite;font-size:10px}.operation-text{font-weight:500}.offline-indicator{align-items:center;color:#dc3545;display:flex;gap:4px}.offline-icon{font-size:10px}.save-status{align-items:center;display:flex;font-weight:500;gap:4px}.save-status.unsaved{color:#fd7e14}.save-status.saving{color:#0d6efd}.save-status.saved{color:#198754}.save-status.synced{color:#0dcaf0}.save-status.synced-old{color:#6c757d}.save-icon{font-size:10px}.save-status.saving .save-icon{animation:pulse 1s ease-in-out infinite}.save-status.unsaved .save-icon{animation:blink 2s ease-in-out infinite}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}@keyframes blink{0%,90%,to{opacity:1}95%{opacity:.3}}.app{padding-bottom:24px}
/*# sourceMappingURL=main.2105525e.css.map*/